<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xxxx.springboot.dao.UserMapper">
        <!--根据用户名查询用户信息-->
        <select id="queryUserByUserName" parameterType="String" resultType="com.xxxx.springboot.po.User">
            select
            id,user_name,user_pwd
            from
            tb_user
            where user_name =#{userName}
        </select>
        <!--根据用户id查询用户信息-->
        <select id="queryById" parameterType="Integer" resultType="user">
            select * from tb_user where id=#{id}
        </select>
        <!--通过条件查询：#{userName}:传过来的参数的属性名-->
        <select id="selectByParams" parameterType="com.xxxx.springboot.query.UserQuery" resultType="user">
            select
                *
            from tb_user
            <where>
                <if test="null != userName and userName != ''">
                    and user_name like concat('%',#{userName},'%')
                </if>
            </where>
        </select>
        <!--添加用户信息-->
        <insert id="save" parameterType="user">
            insert into tb_user(user_name, user_pwd) values (#{userName},#{userPwd})
        </insert>
        <!--修改-->
        <update id="update" parameterType="user">
            update
                tb_user
            set
                user_name = #{userName}, user_pwd=#{userPwd}
            where
                  id = #{id}
        </update>
        <!--删除-->
        <delete id="delete" parameterType="Integer">
            delete from tb_user where id = #{id}
        </delete>
</mapper>